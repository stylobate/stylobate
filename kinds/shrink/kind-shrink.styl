// http://dabblet.com/gist/5817557

kind-shrink($this)
  display: block
  overflow: hidden

  if ellipsis in arguments
    white-space: nowrap;
    text-overflow: ellipsis;

  // Can't use extend here 'cause Stylus don't know -moz-doc
  if inline in $this['params']
    &
      {"@-moz-document url-prefix() {"} &
        flex-shrink: 1000000000
      unquote("}")

kind-shrink-left()
  float: left

kind-shrink-right()
  float: right

kind-shrink-wrap($this)
  if inline in $this['params']
    display: inline-block
    white-space: nowrap
    max-width: 100%

    &
      {"@-moz-document url-prefix() {"} &
        display: inline-flex
        flex-direction: row-reverse
      unquote("}")
  else
    kind(clear after)
